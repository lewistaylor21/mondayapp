/*! For license information please see board_view.bundle.js.LICENSE.txt */
(()=>{"use strict";var n,e={3827:(n,e,t)=>{var r=t(6540),a=t(5338),o=t(5072),i=t.n(o),l=t(7825),c=t.n(l),s=t(7659),d=t.n(s),u=t(5056),m=t.n(u),p=t(540),f=t.n(p),b=t(1113),g=t.n(b),h=t(8868),y={};function v(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var c=r&&r.prototype instanceof l?r:l,s=Object.create(c.prototype);return x(s,"_invoke",function(t,r,a){var o,l,c,s=0,d=a||[],u=!1,m={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return o=e,l=0,c=n,m.n=t,i}};function p(t,r){for(l=t,c=r,e=0;!u&&s&&!a&&e<d.length;e++){var a,o=d[e],p=m.p,f=o[2];t>3?(a=f===r)&&(c=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=n):o[0]<=p&&((a=t<2&&p<o[1])?(l=0,m.v=r,m.n=o[1]):p<f&&(a=t<3||o[0]>r||r>f)&&(o[4]=t,o[5]=r,m.n=f,l=0))}if(a||t>1)return i;throw u=!0,r}return function(a,d,f){if(s>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),l=d,c=f;(e=l<2?n:c)||!u;){o||(l?l<3?(l>1&&(m.n=-1),p(l,c)):m.n=c:m.v=c);try{if(s=2,o){if(l||(a="next"),e=o[a]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,l<2&&(l=0)}else 1===l&&(e=o.return)&&e.call(o),l<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=n}else if((e=(u=m.n<0)?c:t.call(r,m))!==i)break}catch(e){o=n,l=1,c=e}finally{s=1}}return{value:e,done:u}}}(t,a,o),!0),s}var i={};function l(){}function c(){}function s(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(x(e={},r,function(){return this}),e),u=s.prototype=l.prototype=Object.create(d);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,x(n,a,"GeneratorFunction")),n.prototype=Object.create(u),n}return c.prototype=s,x(u,"constructor",s),x(s,"constructor",c),c.displayName="GeneratorFunction",x(s,a,"GeneratorFunction"),x(u),x(u,a,"Generator"),x(u,r,function(){return this}),x(u,"toString",function(){return"[object Generator]"}),(v=function(){return{w:o,m}})()}function x(n,e,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}x=function(n,e,t,r){function o(e,t){x(n,e,function(n){return this._invoke(e,t,n)})}e?a?a(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(o("next",0),o("throw",1),o("return",2))},x(n,e,t,r)}function E(n,e,t,r,a,o,i){try{var l=n[o](i),c=l.value}catch(n){return void t(n)}l.done?e(c):Promise.resolve(c).then(r,a)}function w(n){return function(){var e=this,t=arguments;return new Promise(function(r,a){var o=n.apply(e,t);function i(n){E(o,r,a,i,l,"next",n)}function l(n){E(o,r,a,i,l,"throw",n)}i(void 0)})}}function S(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,l=[],c=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){s=!0,a=n}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(n,e)||function(n,e){if(n){if("string"==typeof n)return k(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?k(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}y.styleTagTransform=g(),y.setAttributes=m(),y.insert=d().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=f(),i()(h.A,y),h.A&&h.A.locals&&h.A.locals,window.mondaySdk();const O=function(){var n=window.mondaySdk(),e=S((0,r.useState)(null),2),t=(e[0],e[1]),a=S((0,r.useState)(null),2),o=a[0],i=a[1],l=S((0,r.useState)([]),2),c=l[0],s=l[1],d=S((0,r.useState)(!1),2),u=d[0],m=d[1],p=S((0,r.useState)(""),2),f=p[0],b=p[1],g=S((0,r.useState)("info"),2),h=g[0],y=g[1],x=S((0,r.useState)(!1),2),E=x[0],k=x[1],O=S((0,r.useState)("Initializing..."),2),M=O[0],C=O[1];(0,r.useEffect)(function(){B()},[]);var B=function(){try{C("Initializing Monday.com SDK..."),n.init(),n.listen("context",function(n){console.log("Monday.com context received:",n.data),t(n.data),i(n.data.boardId),k(!0),C("Connected to Monday.com"),n.data.boardId&&N(n.data.boardId)}),n.listen("auth",function(n){console.log("Monday.com auth received:",n.data),k(!0),C("Authenticated with Monday.com")}),D("Monday.com SDK initialized successfully!","success");var e=function(){var e=document.body.scrollHeight;n.execute("setHeight",{height:e})};new ResizeObserver(e).observe(document.body),setTimeout(e,100)}catch(n){console.error("Error initializing Monday.com SDK:",n),C("SDK Error: "+n.message),D("Error initializing Monday.com SDK: "+n.message,"error"),j()}},N=function(){var e=w(v().m(function e(t){var r,a,o;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,m(!0),D("Loading real board data...","info"),e.n=1,n.api("query {\n        boards(ids: [".concat(t,"]) {\n          items {\n            id\n            name\n            column_values {\n              id\n              title\n              value\n              text\n            }\n          }\n        }\n      }"));case 1:if(r=e.v,console.log("Monday.com API response:",r),!r.error_code){e.n=2;break}throw new Error("Monday.com API Error: ".concat(r.error_message));case 2:r.data&&r.data.boards&&r.data.boards[0]?(a=r.data.boards[0].items,s(a),D("Loaded ".concat(a.length," real items from board ").concat(t),"success")):(D("No items found on this board","info"),s([])),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Error loading board data:",o),D("Error loading board data: "+o.message,"error"),j();case 4:return e.p=4,m(!1),e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}));return function(n){return e.apply(this,arguments)}}(),j=function(){s([{id:"1",name:"Sample Storage Item 1",column_values:[{title:"Status",text:"Active"},{title:"CBM",text:"10.5"},{title:"Rate per CBM/Day",text:"2.50"},{title:"Date Received",text:"2024-01-15"},{title:"Bill Date",text:"2024-02-01"},{title:"Current Month Billing",text:"157.50"}]},{id:"2",name:"Sample Storage Item 2",column_values:[{title:"Status",text:"Scanned Out"},{title:"CBM",text:"5.2"},{title:"Rate per CBM/Day",text:"3.00"},{title:"Date Received",text:"2024-01-20"},{title:"Bill Date",text:"2024-02-01"},{title:"Current Month Billing",text:"93.60"}]},{id:"3",name:"Sample Storage Item 3",column_values:[{title:"Status",text:"Active"},{title:"CBM",text:"15.8"},{title:"Rate per CBM/Day",text:"2.75"},{title:"Date Received",text:"2024-01-25"},{title:"Bill Date",text:"2024-02-01"},{title:"Current Month Billing",text:"217.25"}]}])},D=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";b(n),y(e),setTimeout(function(){return b("")},5e3)},I=function(){var n=w(v().m(function n(){var e,t,r;return v().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o){n.n=1;break}return D("No board selected","error"),n.a(2);case 1:return n.p=1,m(!0),n.n=2,fetch("https://b4869-service-17505803-baada5af.us.monday.app/api/billing/calculate-current-month",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boardId:o})});case 2:return e=n.v,n.n=3,e.json();case 3:t=n.v,e.ok?(D("Current month billing calculated successfully!","success"),N(o)):D("Error calculating billing: "+t.error,"error"),n.n=5;break;case 4:n.p=4,r=n.v,D("Error calculating billing: "+r.message,"error");case 5:return n.p=5,m(!1),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),A=function(){var n=w(v().m(function n(){var e,t,r;return v().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o){n.n=1;break}return D("No board selected","error"),n.a(2);case 1:return n.p=1,m(!0),n.n=2,fetch("https://b4869-service-17505803-baada5af.us.monday.app/api/invoices/generate-current-month",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boardId:o})});case 2:return e=n.v,n.n=3,e.json();case 3:t=n.v,e.ok?D("Invoices generated successfully!","success"):D("Error generating invoices: "+t.error,"error"),n.n=5;break;case 4:n.p=4,r=n.v,D("Error generating invoices: "+r.message,"error");case 5:return n.p=5,m(!1),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),_=function(){var n=w(v().m(function n(){var e,t,r;return v().w(function(n){for(;;)switch(n.p=n.n){case 0:if(o){n.n=1;break}return D("No board selected","error"),n.a(2);case 1:return n.p=1,m(!0),n.n=2,fetch("https://b4869-service-17505803-baada5af.us.monday.app/api/billing/update-bill-dates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boardId:o})});case 2:return e=n.v,n.n=3,e.json();case 3:t=n.v,e.ok?(D("Bill dates updated successfully!","success"),N(o)):D("Error updating bill dates: "+t.error,"error"),n.n=5;break;case 4:n.p=4,r=n.v,D("Error updating bill dates: "+r.message,"error");case 5:return n.p=5,m(!1),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),T=function(n,e){var t=n.column_values.find(function(n){return n.title===e});return t?t.text:""};return r.createElement("div",{className:"monday-board-view"},r.createElement("div",{className:"board-header"},r.createElement("h1",null,"üè¢ Storage Billing Dashboard"),r.createElement("p",null,"SDK Status: ",M),r.createElement("p",null,"Authentication: ",E?"‚úÖ Connected":"‚ùå Not Connected"),r.createElement("p",null,"Board ID: ",o||"Loading...")),f&&r.createElement("div",{className:"message ".concat(h)},f),r.createElement("div",{className:"action-buttons"},r.createElement("button",{className:"monday-button primary",onClick:I,disabled:u||!E},u?"Calculating...":"Calculate Current Month Billing"),r.createElement("button",{className:"monday-button primary",onClick:A,disabled:u||!E},u?"Generating...":"Generate Invoices"),r.createElement("button",{className:"monday-button secondary",onClick:_,disabled:u||!E},u?"Updating...":"Update Bill Dates")),r.createElement("div",{className:"board-stats"},r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Total Items"),r.createElement("p",null,c.length)),r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Active Items"),r.createElement("p",null,c.filter(function(n){return"Active"===T(n,"Status")}).length)),r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Scanned Out"),r.createElement("p",null,c.filter(function(n){return"Scanned Out"===T(n,"Status")}).length)),r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Total Monthly Billing"),r.createElement("p",null,"¬£",c.reduce(function(n,e){return n+(parseFloat(T(e,"Current Month Billing"))||0)},0).toFixed(2)))),r.createElement("div",{className:"items-list"},r.createElement("h2",null,"Storage Items ",!E&&"(Demo Data)"),u?r.createElement("div",{className:"loading"},"Loading items..."):c.length>0?r.createElement("div",{className:"items-grid"},c.map(function(n){return r.createElement("div",{key:n.id,className:"item-card"},r.createElement("h4",null,n.name),r.createElement("div",{className:"item-details"},r.createElement("p",null,r.createElement("strong",null,"Status:")," ",T(n,"Status")),r.createElement("p",null,r.createElement("strong",null,"CBM:")," ",T(n,"CBM")),r.createElement("p",null,r.createElement("strong",null,"Rate:")," ¬£",T(n,"Rate per CBM/Day"),"/day"),r.createElement("p",null,r.createElement("strong",null,"Date Received:")," ",T(n,"Date Received")),r.createElement("p",null,r.createElement("strong",null,"Bill Date:")," ",T(n,"Bill Date")),r.createElement("p",null,r.createElement("strong",null,"Current Month Billing:")," ¬£",T(n,"Current Month Billing"))))})):r.createElement("div",{className:"no-items"},r.createElement("p",null,"No items found on this board."),r.createElement("p",null,"Add storage items to get started with billing calculations."))))};t(8496),a.createRoot(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(O,null)))},8868:(n,e,t)=>{t.d(e,{A:()=>l});var r=t(1601),a=t.n(r),o=t(6314),i=t.n(o)()(a());i.push([n.id,"/* Monday.com Board View Styles */\n.monday-board-view {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  padding: 20px;\n  background: #f6f7fb;\n  min-height: 100vh;\n}\n\n.board-header {\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.board-header h1 {\n  margin: 0 0 8px 0;\n  font-size: 24px;\n  font-weight: 600;\n  color: #323338;\n}\n\n.board-header p {\n  margin: 0;\n  color: #676879;\n  font-size: 14px;\n}\n\n.message {\n  padding: 12px 16px;\n  border-radius: 6px;\n  margin-bottom: 16px;\n  font-size: 14px;\n  font-weight: 500;\n  border-left: 4px solid;\n}\n\n.message.success {\n  background: #d4edda;\n  color: #155724;\n  border-left-color: #28a745;\n}\n\n.message.error {\n  background: #f8d7da;\n  color: #721c24;\n  border-left-color: #dc3545;\n}\n\n.message.info {\n  background: #d1ecf1;\n  color: #0c5460;\n  border-left-color: #17a2b8;\n}\n\n.action-buttons {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n}\n\n.monday-button {\n  padding: 8px 16px;\n  border-radius: 6px;\n  border: none;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 32px;\n}\n\n.monday-button.primary {\n  background: #0073ea;\n  color: white;\n}\n\n.monday-button.primary:hover:not(:disabled) {\n  background: #0056b3;\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.monday-button.secondary {\n  background: #f6f7fb;\n  color: #323338;\n  border: 1px solid #c3c6d4;\n}\n\n.monday-button.secondary:hover:not(:disabled) {\n  background: #e8eaef;\n  border-color: #a5abb3;\n}\n\n.monday-button:disabled {\n  background: #c3c6d4;\n  color: #676879;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: none;\n}\n\n.board-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.stat-card {\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n  text-align: center;\n}\n\n.stat-card h3 {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #676879;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.stat-card p {\n  margin: 0;\n  font-size: 32px;\n  font-weight: 600;\n  color: #0073ea;\n}\n\n.items-list {\n  background: white;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n}\n\n.items-list h2 {\n  margin: 0 0 20px 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #323338;\n}\n\n.loading {\n  text-align: center;\n  padding: 40px;\n  color: #676879;\n  font-size: 14px;\n}\n\n.no-items {\n  text-align: center;\n  padding: 40px;\n  color: #676879;\n}\n\n.no-items p {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n}\n\n.items-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 16px;\n}\n\n.item-card {\n  border: 1px solid #e1e5e9;\n  border-radius: 6px;\n  padding: 16px;\n  background: #fafbfc;\n  transition: all 0.2s ease;\n}\n\n.item-card:hover {\n  border-color: #0073ea;\n  box-shadow: 0 2px 8px rgba(0,115,234,0.1);\n}\n\n.item-card h4 {\n  margin: 0 0 12px 0;\n  font-size: 16px;\n  font-weight: 600;\n  color: #323338;\n}\n\n.item-details p {\n  margin: 0 0 6px 0;\n  font-size: 13px;\n  color: #676879;\n  display: flex;\n  justify-content: space-between;\n}\n\n.item-details strong {\n  color: #323338;\n  font-weight: 500;\n}\n\n/* Responsive design */\n@media (max-width: 768px) {\n  .monday-board-view {\n    padding: 16px;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n  }\n  \n  .monday-button {\n    width: 100%;\n  }\n  \n  .board-stats {\n    grid-template-columns: 1fr;\n  }\n  \n  .items-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n/* Monday.com specific styles */\n.monday-board-view * {\n  box-sizing: border-box;\n}\n\n/* Focus states for accessibility */\n.monday-button:focus {\n  outline: none;\n  box-shadow: 0 0 0 2px rgba(0,115,234,0.2);\n}\n\n/* Animation for loading states */\n@keyframes pulse {\n  0% { opacity: 1; }\n  50% { opacity: 0.5; }\n  100% { opacity: 1; }\n}\n\n.loading {\n  animation: pulse 1.5s ease-in-out infinite;\n} ",""]);const l=i}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,n=[],r.O=(e,t,a,o)=>{if(!t){var i=1/0;for(d=0;d<n.length;d++){for(var[t,a,o]=n[d],l=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every(n=>r.O[n](t[c]))?t.splice(c--,1):(l=!1,o<i&&(i=o));if(l){n.splice(d--,1);var s=a();void 0!==s&&(e=s)}}return e}o=o||0;for(var d=n.length;d>0&&n[d-1][2]>o;d--)n[d]=n[d-1];n[d]=[t,a,o]},r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.j=703,(()=>{var n={703:0};r.O.j=e=>0===n[e];var e=(e,t)=>{var a,o,[i,l,c]=t,s=0;if(i.some(e=>0!==n[e])){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(c)var d=c(r)}for(e&&e(t);s<i.length;s++)o=i[s],r.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return r.O(d)},t=self.webpackChunkstorage_billing_monday_app=self.webpackChunkstorage_billing_monday_app||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),r.nc=void 0;var a=r.O(void 0,[267,96],()=>r(3827));a=r.O(a)})();